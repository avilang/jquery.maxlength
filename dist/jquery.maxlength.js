!function(e){e.fn.maxlength=function(a){function t(e){return e.value.length}return"string"==typeof a&&(a={feedback:a}),a=e.extend({},e.fn.maxlength.defaults,a),this.each(function(){function n(e){var a=t(this),n=a>=r,c=e.keyCode;if(n)switch(c){case 8:case 9:case 17:case 36:case 35:case 37:case 38:case 39:case 40:case 46:case 65:return;default:return!1}}var c=this,f=e(c),u=e(""===a.form?c.form:a.form),r=a.useInput?u.find("input[name=maxlength]").val():f.attr("maxlength"),s=u.find(a.feedback),i=function(){var e=t(c),n=r-e;s.html(n||"0"),a.hardLimit&&n<0&&(c.value=c.value.substr(0,r),i())};f.keyup(i).change(i),a.hardLimit&&f.keydown(n),i()})},e.fn.maxlength.defaults={useInput:!1,hardLimit:!0,feedback:".charsLeft",form:""}}(jQuery);